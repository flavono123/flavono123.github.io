<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<title>Elasticsearchë¥¼ ê³µë¶€í•˜ê³  DDIA ë‹¤ì‹œ ì½ì–´ë³´ì•˜ë‹¤ | flavono123</title>
<link rel=stylesheet href=https://flavono123.github.io/assets/css/post.css>
<script defer src=https://flavono123.github.io/assets/js/lbox.js></script>
<link rel=stylesheet href=https://flavono123.github.io/assets/css/common.css>
</head>
<body>
<main>
<header>
<a class=site-title href=https://flavono123.github.io/>flavono123</a>
</header>
<section class=article>
<div class=article-header>
<h2 class=article-title>Elasticsearchë¥¼ ê³µë¶€í•˜ê³  DDIA ë‹¤ì‹œ ì½ì–´ë³´ì•˜ë‹¤</h2>
<small class=date>Fri Jan 21, 2022</small>
<div class=tags>
<a href=https://flavono123.github.io/tags/elasticsearch class=tag>elasticsearch</a>
<a href=https://flavono123.github.io/tags/ddia class=tag>ddia</a>
</div>
</div>
<div class=content><p>ì‚¬ë‚´ì—ì„œ Elasticsearch ìŠ¤í„°ë””ë¥¼ ì§„í–‰ ì¤‘ì´ë‹¤. íŠ¹íˆ í‚¤ë°”ë‚˜(ì¿¼ë¦¬ì™€ ì‹œê°í™”)ë¥¼ ë” ì˜ ì“°ê³  ì‹¶ì–´ì„œ ì´ ì£¼ì œë¥¼ í•˜ìê³  ì£¼ì¥í–ˆë‹¤. ê·¸ëŸ°ë° ìš°ë¦¬ê°€ ìŠ¤í„°ë”” í•˜ëŠ” 2~3ê°œì›” ì •ë„ ê¸°ê°„ì— ê°€ì´ë“œê°€ ë ë§Œí•œ ì±…ì´ë‚˜ ê°•ì˜ê°€ ë§ˆë•…ì¹˜ ì•Šì•„, ìŠ¤í„°ë”” ì§„í–‰ êµ¬ì„±ë„ ì˜¤ë°€ì¡°ë°€í•˜ê²Œ ì§ì ‘í–ˆë‹¤. ê·¸ì¤‘ ì²«ë‹¨ê³„ëŠ” <a href=https://esbook.kimjmin.net/>Elastic ê°€ì´ë“œ ë¶</a>ì„ í•œë²ˆ ì½ëŠ” ê²ƒì¸ë° ì´ì œ ë§‰ ëë‚¬ë‹¤.</p>
<p>ì¼ë‹¨ ë„ˆë¬´ ì¬ë°Œì—ˆë‹¤. ë‚´ê°€ ì•Œê³  ì‹¶ì—ˆë˜ ê²ƒì€, match ì¿¼ë¦¬ ê²°ê³¼ê°€ ì™œ ìƒê°í•˜ëŠ”ëŒ€ë¡œ ì•ˆë‚˜ì˜¤ëŠ”ì§€, terms aggregationì— ì™œ ì´ëŸ° ê²°ê³¼ê°€ ìˆëŠ”ì§€, ê°™ì€ ê²ƒì¸ë° ì´ë¥¼ ë‹¤ í•´ì†Œí•  ìˆ˜ ìˆì—ˆë‹¤. ë”ìš±ì´, ì‘ë…„ì— ì •ë§ ì¬ë°Œê²Œ ì½ì€(ê·¸ë¦¬ê³  ì´ê²ƒ ë§ˆì € ì•ˆí–ˆìœ¼ë©´ ì‘ë…„ì—” ì•„ë¬´ ì†Œë“ì´ ì—†ì„ë»” í–ˆë‹¤ê³  ëŠë¼ëŠ”..) <a href=https://dataintensive.net/>DDIA</a>ì˜ ë‚´ìš©ì„ ë‹¤ì‹œ ë– ì˜¬ë¦¬ê²Œ í•˜ëŠ” ê²ƒë„ ìˆì–´ì„œ ì¢‹ì•˜ë‹¤.</p>
<p>ì •í™•íˆ ë§í•˜ë©´ DDIA 3ì¥ì˜ ë‚´ìš©ì¸ë° ë‚˜ëŠ” ì´ 3ì¥ì—ì„œ ì²˜ìŒ ë‚˜ì™€ ì±…ì˜ ëê¹Œì§€ ì¤‘ìš”í•œ ê°œë…ì¸, ì¶”ê°€ ì „ìš© ë¡œê·¸(append-only log)ë¥¼ ì—”ì§„ìœ¼ë¡œ ì“°ëŠ” DB, ê·¸ë¦¬ê³  ì¹¼ëŸ¼ ì§€í–¥ ì €ì¥ì†Œ(columnar storage)ë¥¼ ë©‹ì§„ ê°œë…ì´ë¼ê³  ìƒê°ë§Œí–ˆë‹¤. ë§‰ìƒ ì“¸ ì¼ì€ ì—†ê² ë‹¤ê³  ëŠê¼ˆëŠ”ë° ì„¤ì¹˜í•˜ì—¬ ì˜ ì“°ê³  ìˆëŠ” Elasticsearchê°€ ê·¸ëŸ° DBì˜€ë˜ ê²ƒì´ë‹¤..ğŸ˜±</p>
<p>ì´ ê¸€ì€ ê¸°ë³¸ì ìœ¼ë¡  ìœ„ <a href=https://esbook.kimjmin.net/>ê°€ì´ë“œë¶</a>ì˜ ìˆœì„œë¥¼ ë”°ë¥´ë˜ ì¤‘ê°„ì¤‘ê°„ ìƒëµí•˜ëŠ” ë¶€ë¶„ì´ ë§ì„ ê²ƒì´ë‹¤. DDIA 3ì¥ ì´ì™¸ì˜ ë‚´ìš©ë„ ë“¤ì–´ê°„ë‹¤. ë˜ Elasticsearch ê´€ë ¨í•´ì„  ê°€ì´ë“œë¶ ë°”ê¹¥ìœ¼ë¡œ í™•ì¥ë˜ëŠ” ì„¤ëª…ë„ ìˆì„ ê²ƒì´ë‹¤.</p>
<h2 id=ìƒ¤ë“œì™€-ë…¸ë“œ-êµ¬ì„±>ìƒ¤ë“œì™€ ë…¸ë“œ êµ¬ì„±</h2>
<p>ê°€ì´ë“œë¶ <a href=https://esbook.kimjmin.net/03-cluster/3.2-index-and-shards>3.2 ì¸ë±ìŠ¤ì™€ ìƒ¤ë“œ - Index & Shards</a>ê³¼ <a href=https://esbook.kimjmin.net/03-cluster/3.3-master-and-data-nodes>3.3 ë§ˆìŠ¤í„° ë…¸ë“œì™€ ë°ì´í„° ë…¸ë“œ - Master & Data Nodes</a> ê´€ë ¨í•œ ë‚´ìš©ì´ë‹¤. DDIA 3ì¥ê³¼ëŠ” í¬ê²Œ ê´€ë ¨ ì—†ë‹¤. í•˜ì§€ë§Œ DevOpsë¡œì„œ ì•ˆ ì§šê³  ë„˜ì–´ê°ˆ ìˆ˜ ì—†ëŠ” ë¶€ë¶„ì´ë‹¤.</p>
<p>ìƒ¤ë“œì™€ ë…¸ë“œëŠ” ê°ê° ê³ ê°€ìš©ì„±ì„ ìœ„í•´ ë³µì œë³¸ì„ ë‘”ë‹¤. íŠ¹íˆ ìƒ¤ë“œëŠ” ë…¸ë“œ ìˆ˜ê°€ í° ì˜í–¥ì„ ë¼ì¹œë‹¤. ê°™ì€ ìƒ¤ë“œì˜ í”„ë¼ì´ë¨¸ë¦¬ë‘ ë³µì œë³¸ì´ ê°™ì€ ë…¸ë“œì— ìˆì„ ê²½ìš°, ë…¸ë“œê°€ ìœ ì‹¤ëì„ ë•Œ ìƒ¤ë“œë¥¼ ë³µêµ¬í•  ë°©ë²•ì´ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.</p>
<p>ë…¸ë“œëŠ” Split brainì„ ë°©ì§€í•˜ê¸° ìœ„í•´ <code>discovery.zen.minimum_master_nodes</code> ê°’ì„ ì„¤ì •í•œë‹¤. ë§ˆìŠ¤í„° ë…¸ë“œ í›„ë³´ ê°œìˆ˜ê°€ nì¼ ë•Œ, (n / 2) + 1 ê°œë¡œ ì„¤ì •í•˜ê¸¸ ê¶Œì¥í•˜ë©° nì€ í™€ìˆ˜ê°€ ë˜ì–´ì•¼ í•œë‹¤ê³  í•œë‹¤. ì´ëŠ” DDIA 5ì¥ì—ì„œ ì²˜ìŒ ë‚˜ì™€ ë¶„ì‚° ì»´í“¨íŒ… í•©ì˜ ì•Œê³ ë¦¬ì¦˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì •ì¡±ìˆ˜ì— ëŒ€í•œ ë‚´ìš©ê³¼ ì¼ì¹˜í•œë‹¤(í•˜ì§€ë§Œ ì‹¤ì œë¡œ íšŒì‚¬ì—ì„œ ì ìš©í•  í•„ìš” ì—†ì„ë§Œí¼ ì ì€ ë…¸ë“œë¥¼ ìš´ìš©ì¤‘ì´ë‹¤ ã…ã…).</p>
<h2 id=ë¡œì»¬-ì‹¤ìŠµ-êµ¬ì„±>ë¡œì»¬ ì‹¤ìŠµ êµ¬ì„±</h2>
<p>ê°€ì´ë“œë¶ 4ì¥ë¶€í„´ ì˜ˆì‹œ ë°ì´í„°ì™€ ì¿¼ë¦¬ë¥¼ ì‹¤ìŠµí•˜ë©´ ì¢‹ë‹¤. ë˜ ì´ ê¸€ì€ ì—°ìŠµë¬¸ì œ í˜•ì‹ì´ ì•„ë‹ˆì§€ë§Œ ìƒëµì´ ë§ì•„ ê¶ê¸ˆì¦ì„ ìœ ë°œí•˜ëŠ”ê²Œ ê½¤ ìˆì„ê±° ê°™ë‹¤. ë§¥ ê¸°ì¤€ìœ¼ë¡œ docker composeì™€ ì¿ ë²„ë„¤í‹°ìŠ¤ ì„¤ì • íŒŒì¼ì„ ê³µìœ í•œë‹¤. ê°€ì´ë“œë¶ì˜ ì˜ˆì œë¥¼ ë”°ë¼ í•´ë³´ê¸¸:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=color:#75715e># docker-compose</span>
<span style=color:#f92672>version</span>: <span style=color:#e6db74>&#39;3&#39;</span>
<span style=color:#f92672>services</span>:
  <span style=color:#f92672>elasticsearch</span>:
    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>docker.elastic.co/elasticsearch/elasticsearch:7.15.2</span>
    <span style=color:#f92672>container_name</span>: <span style=color:#ae81ff>elasticsearch</span>
    <span style=color:#f92672>environment</span>:
      - <span style=color:#ae81ff>node.name=es</span>
      - <span style=color:#ae81ff>discovery.type=single-node</span>
      - <span style=color:#ae81ff>bootstrap.memory_lock=true</span>
      - <span style=color:#e6db74>&#34;ES_JAVA_OPTS=-Xms512m -Xmx512m&#34;</span>
    <span style=color:#f92672>ulimits</span>:
      <span style=color:#f92672>memlock</span>:
        <span style=color:#f92672>soft</span>: -<span style=color:#ae81ff>1</span>
        <span style=color:#f92672>hard</span>: -<span style=color:#ae81ff>1</span>
    <span style=color:#f92672>volumes</span>:
      - <span style=color:#ae81ff>./data:/usr/share/elasticsearch/data</span>
    <span style=color:#f92672>ports</span>:
      - <span style=color:#ae81ff>9200</span>:<span style=color:#ae81ff>9200</span>
    <span style=color:#f92672>networks</span>:
      - <span style=color:#ae81ff>elastic</span>
  <span style=color:#f92672>kibana</span>:
    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>docker.elastic.co/kibana/kibana:7.15.2</span>
    <span style=color:#f92672>container_name</span>: <span style=color:#ae81ff>kibana</span>
    <span style=color:#f92672>ports</span>:
      - <span style=color:#ae81ff>5601</span>:<span style=color:#ae81ff>5601</span>
    <span style=color:#f92672>networks</span>:
      - <span style=color:#ae81ff>elastic</span>

<span style=color:#f92672>networks</span>:
  <span style=color:#f92672>elastic</span>:
    <span style=color:#f92672>driver</span>: <span style=color:#ae81ff>bridge</span>
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
<span style=color:#f92672>items</span>:
  - <span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
    <span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Service</span>
    <span style=color:#f92672>metadata</span>:
      <span style=color:#f92672>annotations</span>:
        <span style=color:#f92672>kompose.cmd</span>: <span style=color:#ae81ff>kompose convert -f elk-compose.yml --out elk-definition.yml</span>
        <span style=color:#f92672>kompose.version</span>: <span style=color:#ae81ff>1.26.0</span> <span style=color:#ae81ff>(HEAD)</span>
      <span style=color:#f92672>creationTimestamp</span>: <span style=color:#66d9ef>null</span>
      <span style=color:#f92672>labels</span>:
        <span style=color:#f92672>io.kompose.service</span>: <span style=color:#ae81ff>elasticsearch</span>
      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>elasticsearch</span>
    <span style=color:#f92672>spec</span>:
      <span style=color:#f92672>ports</span>:
        - <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;9200&#34;</span>
          <span style=color:#f92672>port</span>: <span style=color:#ae81ff>9200</span>
          <span style=color:#f92672>targetPort</span>: <span style=color:#ae81ff>9200</span>
      <span style=color:#f92672>selector</span>:
        <span style=color:#f92672>io.kompose.service</span>: <span style=color:#ae81ff>elasticsearch</span>
    <span style=color:#f92672>status</span>:
      <span style=color:#f92672>loadBalancer</span>: {}
  - <span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
    <span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Service</span>
    <span style=color:#f92672>metadata</span>:
      <span style=color:#f92672>annotations</span>:
        <span style=color:#f92672>kompose.cmd</span>: <span style=color:#ae81ff>kompose convert -f elk-compose.yml --out elk-definition.yml</span>
        <span style=color:#f92672>kompose.version</span>: <span style=color:#ae81ff>1.26.0</span> <span style=color:#ae81ff>(HEAD)</span>
      <span style=color:#f92672>creationTimestamp</span>: <span style=color:#66d9ef>null</span>
      <span style=color:#f92672>labels</span>:
        <span style=color:#f92672>io.kompose.service</span>: <span style=color:#ae81ff>kibana</span>
      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>kibana</span>
    <span style=color:#f92672>spec</span>:
      <span style=color:#f92672>type</span>: <span style=color:#ae81ff>NodePort</span>
      <span style=color:#f92672>ports</span>:
        - <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;5601&#34;</span>
          <span style=color:#f92672>port</span>: <span style=color:#ae81ff>5601</span>
          <span style=color:#f92672>targetPort</span>: <span style=color:#ae81ff>5601</span>
          <span style=color:#f92672>nodePort</span>: <span style=color:#ae81ff>30561</span>
      <span style=color:#f92672>selector</span>:
        <span style=color:#f92672>io.kompose.service</span>: <span style=color:#ae81ff>kibana</span>
    <span style=color:#f92672>status</span>:
      <span style=color:#f92672>loadBalancer</span>: {}
  - <span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>apps/v1</span>
    <span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Deployment</span>
    <span style=color:#f92672>metadata</span>:
      <span style=color:#f92672>annotations</span>:
        <span style=color:#f92672>kompose.cmd</span>: <span style=color:#ae81ff>kompose convert -f elk-compose.yml --out elk-definition.yml</span>
        <span style=color:#f92672>kompose.version</span>: <span style=color:#ae81ff>1.26.0</span> <span style=color:#ae81ff>(HEAD)</span>
      <span style=color:#f92672>creationTimestamp</span>: <span style=color:#66d9ef>null</span>
      <span style=color:#f92672>labels</span>:
        <span style=color:#f92672>io.kompose.service</span>: <span style=color:#ae81ff>elasticsearch</span>
      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>elasticsearch</span>
    <span style=color:#f92672>spec</span>:
      <span style=color:#f92672>replicas</span>: <span style=color:#ae81ff>1</span>
      <span style=color:#f92672>selector</span>:
        <span style=color:#f92672>matchLabels</span>:
          <span style=color:#f92672>io.kompose.service</span>: <span style=color:#ae81ff>elasticsearch</span>
      <span style=color:#f92672>strategy</span>:
        <span style=color:#f92672>type</span>: <span style=color:#ae81ff>Recreate</span>
      <span style=color:#f92672>template</span>:
        <span style=color:#f92672>metadata</span>:
          <span style=color:#f92672>annotations</span>:
            <span style=color:#f92672>kompose.cmd</span>: <span style=color:#ae81ff>kompose convert -f elk-compose.yml --out elk-definition.yml</span>
            <span style=color:#f92672>kompose.version</span>: <span style=color:#ae81ff>1.26.0</span> <span style=color:#ae81ff>(HEAD)</span>
          <span style=color:#f92672>creationTimestamp</span>: <span style=color:#66d9ef>null</span>
          <span style=color:#f92672>labels</span>:
            <span style=color:#f92672>io.kompose.network/elastic</span>: <span style=color:#e6db74>&#34;true&#34;</span>
            <span style=color:#f92672>io.kompose.service</span>: <span style=color:#ae81ff>elasticsearch</span>
        <span style=color:#f92672>spec</span>:
          <span style=color:#f92672>containers</span>:
            - <span style=color:#f92672>env</span>:
                - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>ES_JAVA_OPTS</span>
                  <span style=color:#f92672>value</span>: -<span style=color:#ae81ff>Xms512m -Xmx512m</span>
                - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>bootstrap.memory_lock</span>
                  <span style=color:#f92672>value</span>: <span style=color:#e6db74>&#34;true&#34;</span>
                - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>discovery.type</span>
                  <span style=color:#f92672>value</span>: <span style=color:#ae81ff>single-node</span>
                - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>node.name</span>
                  <span style=color:#f92672>value</span>: <span style=color:#ae81ff>es</span>
              <span style=color:#f92672>image</span>: <span style=color:#ae81ff>docker.elastic.co/elasticsearch/elasticsearch:7.15.2</span>
              <span style=color:#f92672>name</span>: <span style=color:#ae81ff>elasticsearch</span>
              <span style=color:#f92672>ports</span>:
                - <span style=color:#f92672>containerPort</span>: <span style=color:#ae81ff>9200</span>
              <span style=color:#f92672>resources</span>: {}
              <span style=color:#f92672>volumeMounts</span>:
                - <span style=color:#f92672>mountPath</span>: <span style=color:#ae81ff>/usr/share/elasticsearch/data</span>
                  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>elasticsearch-claim0</span>
          <span style=color:#f92672>restartPolicy</span>: <span style=color:#ae81ff>Always</span>
          <span style=color:#f92672>volumes</span>:
            - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>elasticsearch-claim0</span>
              <span style=color:#f92672>persistentVolumeClaim</span>:
                <span style=color:#f92672>claimName</span>: <span style=color:#ae81ff>elasticsearch-claim0</span>
    <span style=color:#f92672>status</span>: {}
  - <span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>v1</span>
    <span style=color:#f92672>kind</span>: <span style=color:#ae81ff>PersistentVolumeClaim</span>
    <span style=color:#f92672>metadata</span>:
      <span style=color:#f92672>creationTimestamp</span>: <span style=color:#66d9ef>null</span>
      <span style=color:#f92672>labels</span>:
        <span style=color:#f92672>io.kompose.service</span>: <span style=color:#ae81ff>elasticsearch-claim0</span>
      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>elasticsearch-claim0</span>
    <span style=color:#f92672>spec</span>:
      <span style=color:#f92672>accessModes</span>:
        - <span style=color:#ae81ff>ReadWriteOnce</span>
      <span style=color:#f92672>resources</span>:
        <span style=color:#f92672>requests</span>:
          <span style=color:#f92672>storage</span>: <span style=color:#ae81ff>100Mi</span>
    <span style=color:#f92672>status</span>: {}
  - <span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>networking.k8s.io/v1</span>
    <span style=color:#f92672>kind</span>: <span style=color:#ae81ff>NetworkPolicy</span>
    <span style=color:#f92672>metadata</span>:
      <span style=color:#f92672>creationTimestamp</span>: <span style=color:#66d9ef>null</span>
      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>elastic</span>
    <span style=color:#f92672>spec</span>:
      <span style=color:#f92672>ingress</span>:
        - <span style=color:#f92672>from</span>:
            - <span style=color:#f92672>podSelector</span>:
                <span style=color:#f92672>matchLabels</span>:
                  <span style=color:#f92672>io.kompose.network/elastic</span>: <span style=color:#e6db74>&#34;true&#34;</span>
      <span style=color:#f92672>podSelector</span>:
        <span style=color:#f92672>matchLabels</span>:
          <span style=color:#f92672>io.kompose.network/elastic</span>: <span style=color:#e6db74>&#34;true&#34;</span>
  - <span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>apps/v1</span>
    <span style=color:#f92672>kind</span>: <span style=color:#ae81ff>Deployment</span>
    <span style=color:#f92672>metadata</span>:
      <span style=color:#f92672>annotations</span>:
        <span style=color:#f92672>kompose.cmd</span>: <span style=color:#ae81ff>kompose convert -f elk-compose.yml --out elk-definition.yml</span>
        <span style=color:#f92672>kompose.version</span>: <span style=color:#ae81ff>1.26.0</span> <span style=color:#ae81ff>(HEAD)</span>
      <span style=color:#f92672>creationTimestamp</span>: <span style=color:#66d9ef>null</span>
      <span style=color:#f92672>labels</span>:
        <span style=color:#f92672>io.kompose.service</span>: <span style=color:#ae81ff>kibana</span>
      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>kibana</span>
    <span style=color:#f92672>spec</span>:
      <span style=color:#f92672>replicas</span>: <span style=color:#ae81ff>1</span>
      <span style=color:#f92672>selector</span>:
        <span style=color:#f92672>matchLabels</span>:
          <span style=color:#f92672>io.kompose.service</span>: <span style=color:#ae81ff>kibana</span>
      <span style=color:#f92672>strategy</span>: {}
      <span style=color:#f92672>template</span>:
        <span style=color:#f92672>metadata</span>:
          <span style=color:#f92672>annotations</span>:
            <span style=color:#f92672>kompose.cmd</span>: <span style=color:#ae81ff>kompose convert -f elk-compose.yml --out elk-definition.yml</span>
            <span style=color:#f92672>kompose.version</span>: <span style=color:#ae81ff>1.26.0</span> <span style=color:#ae81ff>(HEAD)</span>
          <span style=color:#f92672>creationTimestamp</span>: <span style=color:#66d9ef>null</span>
          <span style=color:#f92672>labels</span>:
            <span style=color:#f92672>io.kompose.network/elastic</span>: <span style=color:#e6db74>&#34;true&#34;</span>
            <span style=color:#f92672>io.kompose.service</span>: <span style=color:#ae81ff>kibana</span>
        <span style=color:#f92672>spec</span>:
          <span style=color:#f92672>containers</span>:
            - <span style=color:#f92672>image</span>: <span style=color:#ae81ff>docker.elastic.co/kibana/kibana:7.15.2</span>
              <span style=color:#f92672>name</span>: <span style=color:#ae81ff>kibana</span>
              <span style=color:#f92672>ports</span>:
                - <span style=color:#f92672>containerPort</span>: <span style=color:#ae81ff>5601</span>
              <span style=color:#f92672>resources</span>: {}
          <span style=color:#f92672>restartPolicy</span>: <span style=color:#ae81ff>Always</span>
    <span style=color:#f92672>status</span>: {}
<span style=color:#f92672>kind</span>: <span style=color:#ae81ff>List</span>
<span style=color:#f92672>metadata</span>: {}
</code></pre></div><p>ê°ê° localhost:5601ê³¼ &lt;service_ip>:30561ìœ¼ë¡œ í‚¤ë°”ë‚˜ ì ‘ì†í•  ìˆ˜ ìˆë‹¤.</p>
<h2 id=ì „ë¬¸-ê²€ìƒ‰ê³¼-match-ì¿¼ë¦¬>ì „ë¬¸ ê²€ìƒ‰ê³¼ match ì¿¼ë¦¬</h2>
<p>ë¨¼ì € Elasticsearchê°€ ì „ë¬¸ ê²€ìƒ‰(full-text search)ìš© DBë¼ëŠ” ì ì„ ì•Œê³  ìˆì–´ì•¼ í•œë‹¤. ì´ë¥¼ ìœ„í•´ ì—­ì¸ë±ìŠ¤ë¼ëŠ” ì¸ë±ìŠ¤ ë°©ë²•ì„ ì“´ë‹¤. ì—­ì¸ë±ìŠ¤ëŠ” ì „ë¬¸ í•„ë“œë¥¼ í…€(term)ìœ¼ë¡œ ë‚˜ëˆ„ê³  ê° í…€ì— í•´ë‹¹í•˜ëŠ” ë¬¸ì„œë¥¼ ìœ ì§€í•˜ì—¬ ë¹¨ë¦¬ ê²€ìƒ‰í•˜ê²Œ ë„ì™€ì¤€ë‹¤. ëŒ€ëµ ê·¸ë¦¼ì²˜ëŸ¼ ë¬¸ì„œë“¤ì„ ì¸ë±ìŠ¤ë¡œ ê´€ë¦¬í•œë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤(ì• ë„ë¼ì´ì € ì„¤ëª…ì€ ìƒëµí•œë‹¤):</p>
<p><img src=/images/elasticsearch-and-ddia/1.png alt=1>
<img src=/images/elasticsearch-and-ddia/2.png alt=2></p>
<p>ë”°ë¼ì„œ &ldquo;match&rdquo;: &ldquo;quick&rdquo; ê°™ì€ ì¿¼ë¦¬ë¡œ ê²€ìƒ‰í•˜ë©´ ë¬¸ì„œ doc1, doc2, doc3ë¥¼ ë°”ë¡œ ê°€ì ¸ì˜¨ë‹¤. í•˜ì§€ë§Œ &ldquo;match&rdquo;: &ldquo;quick dog"ìœ¼ë¡œ ê²€ìƒ‰í•˜ë©´ doc1~5ì˜ ëª¨ë“  ë¬¸ì„œë¥¼ ê°€ì ¸ì˜¨ë‹¤. ì´ëŠ” ì—­ì¸ë±ìŠ¤ ê¸°ì¤€ìœ¼ë¡œ quickê³¼ dog í…€ì˜ unionì´ë‹¤. match ì¿¼ë¦¬ê°€ ê¸°ë³¸ì ìœ¼ë¡œ ê³µë°± ê°™ì€ êµ¬ë¶„ìì— ëŒ€í•´ í…€ì„ ë‚˜ëˆ„ê³  OR ì—°ì‚°í•˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>
<p>ìœ„ì—ì„  ì˜ˆì‹œë¥¼ í•˜ë‚˜ ë“¤ì—ˆì§€ë§Œ, Elasticsearchê°€ ë°ì´í„°ë¥¼ ë‹¤ë£¨ëŠ” ë°©ì‹ê³¼ ê·¸ì— ë§ê²Œ ì˜ ê²€ìƒ‰í•˜ê¸° ìœ„í•´ì„  <a href=https://esbook.kimjmin.net/05-search>5. ê²€ìƒ‰ê³¼ ì¿¼ë¦¬ - Query DSL</a>ì™€ <a href=https://esbook.kimjmin.net/06-text-analysis>6. ë°ì´í„° ìƒ‰ì¸ê³¼ í…ìŠ¤íŠ¸ ë¶„ì„</a>ëŠ” ê¼­ ë‹¤ ì½ì–´ë³´ë©´ ì¢‹ë‹¤. ê°€ì´ë“œë¶ì—ì„  ë„ì–´ì“°ê¸°ë¥¼ í¬í•¨í•œ &ldquo;quick dog"ì´ë¼ëŠ” ê¸€ì ìì²´ì— ëŒ€í•œ ê²€ìƒ‰ ë°©ë²•ì´ë‚˜, &ldquo;quick"ê³¼ &ldquo;dog"ë¥¼ ë‘˜ ë‹¤ í¬í•¨í•˜ëŠ” ë¬¸ì„œë¥¼ ê²€ìƒ‰í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œë„ ì•Œ ìˆ˜ ìˆë‹¤.</p>
<h2 id=ë ëŸ¬ë²ˆíŠ¸ì™€-ë ëŸ¬ë²ˆíŠ¸-ë¬´ì‹œí•˜ê¸°>ë ëŸ¬ë²ˆíŠ¸ì™€ ë ëŸ¬ë²ˆíŠ¸ ë¬´ì‹œí•˜ê¸°</h2>
<p>íšŒì‚¬ì—ì„  Elasticsearchë¥¼ ì „ë¬¸ ê²€ìƒ‰ë³´ë‹¨ ë¡œê·¸ë¥¼ ìˆ˜ì§‘í•˜ì—¬ ëª¨ë‹ˆí„°í•˜ëŠ”ë° ì“°ê¸° ë•Œë¬¸ì— í•„ë“œê°€ ìì—°ì–´ ì „ë¬¸ì´ ì•„ë‹Œ ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì´ë‹¤. ê·¸ëŸ¼ì—ë„ Elasticsearchê°€ ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ì €ì¥í•˜ê³  ê²€ìƒ‰ ì‹œ ì–´ë–»ê²Œ ë°˜í™˜í•˜ëŠ”ê°€ë¥¼ ì•„ëŠ” ê²ƒì´ ë§ì´ ë„ì›€ì´ ëœë‹¤.</p>
<p>íŠ¹íˆ SQLì— ë¹—ëŒ€ì–´ ì†ì„± ê³¼ì™¸ì‹ìœ¼ë¡œ í‘œí˜„í•˜ëŠ”ê±´ ì•„ì£¼ ë¬´ì˜í•œê±° ê°™ë‹¤. ê°€ì´ë“œë¶ë„ ì´ë¥¼ ì•Œê³  ìˆëŠ”ì§€ <a href=https://esbook.kimjmin.net/05-search/5.2-bool>5.2 Bool ë³µí•© ì¿¼ë¦¬ - Bool Query</a>ì—ì„œ ê·¸ê±¸ ì¸ìš©í•˜ì§€ë§Œ&mldr; ë’¤ì— ì´ì–´ì§€ëŠ” <a href=https://esbook.kimjmin.net/05-search/5.3-relevancy>5.3 ì •í™•ë„ - Relevancy</a>ì—ì„œ ìŠ¤ì½”ì–´ ì¦‰, ë ëŸ¬ë²ˆíŠ¸ ê°œë…ì„ ì´í•´í•˜ëŠ”ê²Œ ë” ì¤‘ìš”í•œê±° ê°™ë‹¤. ë”±ë´ë„ ë³µì¡í•œ BM25 ìˆ˜ì‹ì„ ì´í•´í•  í•„ìš˜ ì—†ë‹¤. TD-IDFì™€ í•„ë“œ ê¸¸ì´ì˜ ì‹œë§¨í‹±ì„ ì´í•´í•˜ê³  ì˜ˆì œ ë°ì´í„°ë¥¼ ì¿¼ë¦¬í•˜ì—¬ ê²°ê³¼ë¥¼ ì°ì–´ ìŠ¤ì½”ì–´ë¥¼ ë³´ëŠ” ê²ƒìœ¼ë¡œ ì¶©ë¶„í•˜ë‹¤(í•„ë“œ ê¸¸ì´ëŠ” ì‹œë§¨í‹±ì„ ì´í•´í•  í•„ìš”ë„ ì—†ê² ë‹¤). ë‚˜ëŠ” ë‹¤ìŒì²˜ëŸ¼ ê¸°ëŒ€í•˜ê³  ìŠ¤ì½”ì–´ê°€ ê·¸ì— ë§ê²Œ ë°”ë€ŒëŠ”ì§€ ì—¬ëŸ¬ë²ˆ ì¿¼ë¦¬í•´ë´¤ë‹¤:</p>
<ul>
<li>ë¬¸ì„œì—ì„œ ë‹¨ì–´ê°€ ë§ì´ ë°˜ë³µë˜ë©´ ìŠ¤ì½”ì–´ ì˜¬ë¼ê°„ë‹¤(TF).</li>
<li>ì „ì²´ ë¬¸ì„œì—(corpus) ë‹¨ì–´ê°€ ë§ì´ ë“±ì¥í•˜ë©´ ìŠ¤ì½”ì–´ê°€ ë‚´ë ¤ê°„ë‹¤(IDF).</li>
<li>í•„ë“œ ê¸¸ì´ê°€ ê¸¸ì–´ì§€ë©´ ìŠ¤ì½”ì–´ê°€ ë‚´ë ¤ê°„ë‹¤.</li>
</ul>
<p><em>ìŒ&mldr;ì“°ê³ ë‚˜ë‹ˆ TFì™€ IDFë„ ì´ë¦„ì— ë”°ë¼ ìëª…í•œ í•´ì„ì´ë‹¤(ì˜¤íˆë ¤ ì‹œë§¨í‹±ìœ¼ë¡œ ì´í•´í•˜ìê³  ë§í•œê²Œ ë” í—·ê°ˆë ¸ì„ê±° ê°™ë‹¤). ë¬¼ë¡  ì˜ë‚œì²™(&ldquo;ì‰¬ìš´ë°?")ì€ ì•„ë‹ˆë‹¤. ë‚˜ëŠ” ì–¼ë§ˆì „ì— TF-IDF ì¸ì½”ë”©ì„ í•  ì¼ì´ ìˆì–´ ì¢€ ë” ìµìˆ™í–ˆì„ ë¿ì´ë‹¤&mldr;</em></p>
<p>ë ëŸ¬ë²ˆíŠ¸ ì—­ì‹œ, ì¹´ë””ë„ë¦¬í‹°ê°€ ê½¤ ë‚®ì€, íšŒì‚¬ì˜ ë¡œê·¸ í•„ë“œì— ëŒ€í•´ì„  ì‚¬ìš©í•  ê¸°íšŒê°€ ë§ì§€ ì•Šì„ê±° ê°™ë‹¤. ê·¸ë˜ì„œ ë¡œê·¸ë¥¼ ì°¾ì„ ë• ìŠ¤ì½”ì–´ë§ í•˜ì§€ ì•Šê³  filter ì¿¼ë¦¬ë§Œ ì“°ê²Œ ë˜ì—ˆë‹¤(<a href=https://esbook.kimjmin.net/05-search/5.5-exact-value>5.5 ì •í™•ê°’ ì¿¼ë¦¬ - Exact Value Query</a>).</p>
<h2 id=ì§‘ê³„ê°€-ì™œ-ê·¸ë ‡ê²Œ-ë¹¨ë¼>ì§‘ê³„ê°€ ì™œ ê·¸ë ‡ê²Œ ë¹¨ë¼?</h2>
<p>ì§‘ê³„(aggregation)ì€ ì •ë§ ì¢‹ì•„í•˜ëŠ” Elasticsearch ê¸°ëŠ¥ì´ë‹¤. ëª‡ ë¶„ì— í•´ë‹¹í•˜ëŠ” ë¡œê·¸(=ë¬¸ì„œ)ë„ ì—„ì²­ë‚˜ê²Œ ë§ê¸° ë•Œë¬¸ì— ì´ë¥¼ í•œëˆˆì— ë³´ê¸° ìœ„í•´ ìì£¼ ì´ìš©í–ˆë‹¤. Elasticsearchì˜ ì§‘ê³„ëŠ” ì—„ì²­ ë¹ ë¥´ë‹¤. ì›ë¦¬ì— ëŒ€í•´ì„  ê³ ë¯¼í•´ë³´ì§€ ì•Šì•˜ê³  ì¸ë±ìŠ¤ê°€ ê·¸ì •ë„ë¡œ í¬ë‹ˆ ê·¸ëŸ¬ë ¤ë‹ˆ? í–ˆì—ˆë‹¤.</p>
<p>í•˜ì§€ë§Œ ê°€ì´ë“œë¶ <a href=https://esbook.kimjmin.net/08-aggregations/8.2-bucket-aggregations>8.2 ë²„í‚· - Bucket Aggregations</a>ë¥¼ ë³´ëŠ” ìˆœê°„..:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml>  <span style=color:#ae81ff>...</span>
      <span style=color:#75715e># ë²„í‚· ë¶€ë¶„ë§Œ ì˜ë¼ ì™”ë‹¤</span>
      <span style=color:#e6db74>&#34;buckets&#34;</span> : [
        {
          <span style=color:#e6db74>&#34;key&#34;</span> : <span style=color:#e6db74>&#34;ê°•ë‚¨&#34;</span>,
          <span style=color:#e6db74>&#34;doc_count&#34;</span> : <span style=color:#ae81ff>5</span>
        },
        {
          <span style=color:#e6db74>&#34;key&#34;</span> : <span style=color:#e6db74>&#34;ë¶ˆê´‘&#34;</span>,
          <span style=color:#e6db74>&#34;doc_count&#34;</span> : <span style=color:#ae81ff>1</span>
        },
        {
          <span style=color:#e6db74>&#34;key&#34;</span> : <span style=color:#e6db74>&#34;ì‹ ì´Œ&#34;</span>,
          <span style=color:#e6db74>&#34;doc_count&#34;</span> : <span style=color:#ae81ff>1</span>
        },
        {
          <span style=color:#e6db74>&#34;key&#34;</span> : <span style=color:#e6db74>&#34;ì–‘ì¬&#34;</span>,
          <span style=color:#e6db74>&#34;doc_count&#34;</span> : <span style=color:#ae81ff>1</span>
        },
        {
          <span style=color:#e6db74>&#34;key&#34;</span> : <span style=color:#e6db74>&#34;ì¢…ê°&#34;</span>,
          <span style=color:#e6db74>&#34;doc_count&#34;</span> : <span style=color:#ae81ff>1</span>
        },
        {
          <span style=color:#e6db74>&#34;key&#34;</span> : <span style=color:#e6db74>&#34;í™ì œ&#34;</span>,
          <span style=color:#e6db74>&#34;doc_count&#34;</span> : <span style=color:#ae81ff>1</span>
        }
      ]
  <span style=color:#ae81ff>...</span>
</code></pre></div><p>&ldquo;ì—‡ ì´ê±´ ëŸ°ë ìŠ¤ ì¸ì½”ë”©ì¸ë°?&ldquo;ë¼ëŠ” ìƒê°ì´ ë“¤ì—ˆê³ , DDIA 3ì¥ì„ ë‹¤ì‹œ ì½ì—ˆë‹¤. ì´ ë•Œ Elasticsearchì˜ ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ë£¨ì”¬ì— ê¸°ë°˜í•´ì„œ ë§Œë“¤ì—ˆë‹¤ëŠ”ê±¸ ì•Œì•˜ë‹¤. ê·¸ë¦¬ê³  <a href=https://www.elastic.co/kr/blog/elasticsearch-as-a-column-store>ì´ í¬ìŠ¤íŒ…</a>ì„ ì½ê³  ì„¤ëª…í•´ë³´ìë©´&mldr;</p>
<p>ElasticsearchëŠ” ëª¨ë“  í•„ë“œì— ëŒ€í•´ <code>doc_values</code>ë¼ëŠ” ì»¬ëŸ¼ ì§€í–¥(column store) ìƒ‰ì¸ì„ êµ¬ì„±í•œë‹¤. ì´ê²ƒì€ in-memoryì—ì„œ ë¡œê·¸ ì»´íŒ©ì…˜(ì •ë ¬, ë³‘í•©)ì‹œ ë¶ˆë¦¬í•œ <code>fielddata</code>ë¥¼ ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ê°œì„ í•œ ê²ƒì´ë‹¤:</p>
<ul>
<li>ëª¨ë“  ë°ì´í„°ë¥¼ í‘œí˜„í•˜ê³  ì €ì¥í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì˜ ìµœì†Œí•œì˜ í¬ê¸°ë¡œ ì¸ì½”ë”©í•˜ì—¬ ì €ì¥í•œë‹¤.</li>
<li>ì „ë¬¸ í•„ë“œëŠ” ì •ë ¬ëœ í…€ ì‚¬ì „ìœ¼ë¡œ ì €ì¥í•œë‹¤.</li>
<li>ìˆ«ì(numeric) í•„ë“œëŠ” ìµœëŒ€ê³µì•½ìˆ˜ë¡œ ë‚˜ëˆ„ì–´ ë‚˜ë¨¸ì§€ë§Œ ì €ì¥í•˜ì—¬ íš¨ìœ¨ì„ ë†’ì¸ë‹¤.</li>
</ul>
<p>ë˜ ëŸ°ë ìŠ¤ ì¸ì½”ë”©ê³¼ ë‹¬ë¦¬ í•„ë“œ ê°’ì´ ë¬¸ì„œ IDsë¥¼ ì°¸ì¡°í•˜ê³ (B-tree êµ¬ì¡°ì˜ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ì™€ ë¹„ìŠ·í•˜ë‹¤ê³  ìƒê°í–ˆë‹¤. ëŒ€ì‹  ID ë¦¬ìŠ¤íŠ¸ì¸), ì´ê²ƒì„ ê¸°ë°˜ìœ¼ë¡œ ë£¨ì”¬ì˜ ë‚˜ë¨¸ì§€ ì¸ë±ìŠ¤ ì»´í¬ë„ŒíŠ¸ì¸ ì—­ì¸ë±ìŠ¤, í…€ ë²¡í„° ë“±ê³¼ ì†Œí†µí•˜ì—¬ ê²°ê³¼ë¥¼ ë‚´ì¤€ë‹¤ê³  í•œë‹¤. ê·¸ëƒ¥ í•„ë“œì— ëŒ€í•´ì„œë§Œ ì§‘ê³„í•œë‹¤ë©´, ëŸ°ë ìŠ¤ ì¸ì½”ë”©ì²˜ëŸ¼, ì™„ì „íˆ ì»¬ëŸ¼ ì§€í–¥ì ì¸ ì¸ë±ìŠ¤ë‚˜ DBë§Œ ìœ ì§€í•´ë„ ë˜ê² ì§€ë§Œ ì¿¼ë¦¬ë¡œ í•„í„°ë¥¼ í•œ ë¬¸ì„œì— ëŒ€í•´ì„œë„ ì§‘ê³„ ê²°ê³¼ê°€ ë¹ ë¥´ê²Œ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ì´ìœ ê°€ ì´ê²ƒì´ë¼ê³  í•œë‹¤.</p>
<p>ì•ì„œ ì–¸ê¸‰í•œ <a href=https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-termvectors.html>í…€ ë²¡í„°(term vector)</a>, ë” ì •í™•í•˜ê²Œ ë£¨ì”¬ì˜ í…€ ì‚¬ì „(term dictionary)ëŠ” ì¶”ê°€ ì „ìš© ë¡œê·¸ DBì™€ LSM íŠ¸ë¦¬ ìƒ‰ì¸ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•œë‹¤ê³  í•œë‹¤:</p>
<blockquote>
<p>Lucene, an indexing engine for full-text search used by Elasticsearch and Solr, uses a similar method for storing its term dictionary [12, 13]. A full-text index is much more complex than a key-value index but is based on a similar idea: given a word in a search query, find all the documents (web pages, product descriptions, etc.) that mention the word. This is implemented with a key-value structure where the key is a word (a term) and the value is the list of IDs of all the documents that contain the word (the postings list). In Lucene, this mapping from term to postings list is kept in SSTable-like sorted files, which are merged in the background as needed [14].</p>
</blockquote>
<p>ì±…ì—ì„œ ì„¤ëª…í•˜ë˜ íë¦„ì—ì„  ì¸ë±ìŠ¤ê°€ ê°€ë¦¬í‚¤ëŠ” ê²ƒì´ ë ˆì½”ë“œê°€ ì•„ë‹Œ ë¬¸ì„œ IDs ë¦¬ìŠ¤íŠ¸ì´ê¸° ë•Œë¬¸ì— &lsquo;ìœ ì‚¬í•˜ë‹¤&rsquo;ê³  í•œê²ƒ ê°™ë‹¤. ì¸ë±ìŠ¤ êµ¬ì¡° ìì²´ëŠ” LSMì´ë¼ ë´ë„ ë ê±° ê°™ë‹¤(ë£¨ì”¬ì— ëŒ€í•´ì„œ ë” ê¹Šê²Œ ì°¾ì•„ë³´ì§€ ì•Šì€ ê²ƒì— ëŒ€í•œ ë³€ëª…ì´ë‹¤).</p>
<h2 id=ddia-2íšŒì°¨>DDIA 2íšŒì°¨</h2>
<p>Elasticsearchë¥¼ ìŠ¤í„°ë””í•˜ë©° ì¶”ê°€ ì „ìš© ë¡œê·¸ DBì™€ LSM íŠ¸ë¦¬ ìƒ‰ì¸ êµ¬í˜„ì²´, ê·¸ë¦¬ê³  ì»¬ëŸ¼ ì§€í–¥ ì €ì¥ì†Œì˜ ì¥ì ì„ ëˆˆìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆì–´ì„œ ì¢‹ì•˜ë‹¤. ê·¸ë¦¬ê³  ì´ëŸ° ê²ƒì´ ëˆˆì— ë“¤ì–´ì˜¤ê²Œ í•´ì¤€ DDIAëŠ” ì •ë§ ìµœê³ ë‹¤. ì¡´ê²½ì˜ ì˜ë¯¸ë¥¼ ë‹´ì•„ DDIAë¥¼ í•œë²ˆ ë” ì½ìœ¼ë ¤ê³  í•œë‹¤. ë‹¤ë§Œ ì´ë²ˆì²˜ëŸ¼ ìƒìš© DB ì˜ˆì‹œë¡œ ì±…ì˜ ë‚´ìš©ì„ ìƒê¸°í•˜ë©° ë¶€ë¶„ë¶€ë¶„ë§Œ ë³µê¸°í•˜ê³  ì‹¶ë‹¤.</p>
<p>ì•„ë§ˆ ë‹¤ìŒ ìƒìš© DBëŠ” MongoDBê°€ ë˜ì§€ ì•Šì„ê¹Œ í•œë‹¤. MongoDBëŠ” ë ˆí”Œë¦¬ì¹´ í´ëŸ¬ìŠ¤í„° êµ¬ì„±ê³¼ (failover ìƒí™©ì„ í¬í•¨í•œ)í”„ë¼ì´ë¨¸ë¦¬ í”„ë¡œëª¨ì…˜í•  ë•Œ ì±…ì˜ íš¨ê³¼ë¥¼ í†¡í†¡íˆ ë´¤ë‹¤. ê·¸ì „ì—, ë”±íˆ ì¢‹ì€ coordinatorê°€ ì—†ëŠ”, MariaDBëŠ” ì¥ì• ì™€ ë§ˆìŠ¤í„°ë¥¼ zero downtimeìœ¼ë¡œ ì´ì „í•˜ëŠ”ë°ì— ì• ë¥¼ ë¨¹ì—ˆë‹¤. í•˜ì§€ë§Œ MongoDBëŠ” ë¶„ì‚° ì»´í“¨íŒ…ì—ì„œ í•©ì˜ í”„ë¡œí† ì½œì´ ì˜ ì´ë£¨ì–´ì§€ëŠ”ê±° ê°™ì•˜ì„œ DDIAì—ì„œ ë°°ìš´ ë‚´ìš©ì´ ë– ì˜¬ëì—ˆë‹¤.</p>
<p>í•œí¸ MongoDBëŠ” ì €ì¥ì†Œë‚˜ ì¿¼ë¦¬, ì§‘ê³„ ê´€ë ¨í•œ ë¶€ë¶„ì€ ë§ì´ ì‚¬ìš©í•˜ì§€ ëª»í•´ì„œ ì²´ê°í•  ê¸°íšŒê°€ ì—†ì—ˆë‹¤. MongoDB ì „ë¬¸ ê²€ìƒ‰ DBë„ ì•„ë‹ˆê³  ì¸ë±ìŠ¤ë„ ëª…ì‹œì ìœ¼ë¡œ ìƒì„±í•´ì£¼ì–´ì•¼ í•œë‹¤. ë”°ë¼ì„œ ì¸ë±ìŠ¤ ë¶€ë¶„ì—ì„œë§Œí¼ì€ ìŠ¤í‚¤ë§ˆ ì„¤ê³„ê°€ ì¤‘ìš”í•œê±° ê°™ì•˜ê³ , ì¿¼ë¦¬, ì§‘ê³„ ì‹œì—ë„ JSë¥¼ í™œìš©í•˜ëŠ” ìœ ì—°ì„±ì´ ê°•ì ìœ¼ë¡œ ë³´ì˜€ë‹¤. ì¦‰ ê²€ìƒ‰ì´ë‚˜ ì§‘ê³„ ì†ë„ì—ì„  Elasticsearchë§Œí¼ ë¹ ë¥´ì§„ ì•Šì§€ë§Œ, ì¸ë±ìŠ¤ë¥¼ ê·¸ë§Œí¼ ìœ ì§€í•˜ì§„ ì•Šì„í…Œë‹ˆ ì €ì¥ ê³µê°„ê³¼ íŠ¸ë ˆì´ë“œ ì˜¤í”„ê°€ ìˆì„ê±° ê°™ë‹¤. MongoDBë„ ë¬¸ì„œë¥¼ ë‹¤ë£¨ëŠ”, ê·¸ë¦¬ê³  ë¹ ë¥´ê²Œ ì‚½ì…í•˜ëŠ” DBì¸ë° ì¶”ê°€ ì „ìš© ë¡œê·¸ ë°©ì‹ì˜ DBê°€ ì•„ë‹ê¹Œ ì‹¶ë‹¤.</p>
</div>
</section>
<div id=disqus_thread></div>
<script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//flavono123.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
<a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
<footer>
<p>&copy; 1947 - 2022 </p>
</footer>
</main>
</body>
</html>