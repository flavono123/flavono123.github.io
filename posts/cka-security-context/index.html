<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<title>CKA 시험 후기와 Security Context - 리눅스 네임스페이스, capabilities | flavono123</title>
<link rel=stylesheet href=https://flavono123.github.io/assets/css/post.css>
<script defer src=https://flavono123.github.io/assets/js/lbox.js></script>
<link rel=stylesheet href=https://flavono123.github.io/assets/css/common.css>
</head>
<body>
<main>
<header>
<a class=site-title href=https://flavono123.github.io/>flavono123</a>
</header>
<section class=article>
<div class=article-header>
<h2 class=article-title>CKA 시험 후기와 Security Context - 리눅스 네임스페이스, capabilities</h2>
<small class=date>Fri Feb 25, 2022</small>
<div class=tags>
<a href=https://flavono123.github.io/tags/cka class=tag>cka</a>
<a href=https://flavono123.github.io/tags/docker class=tag>docker</a>
<a href=https://flavono123.github.io/tags/linux class=tag>linux</a>
</div>
</div>
<div class=content><p>이전까지 쓰던 CKA 강의 정리 글을 중단하고, 남은 섹션 빠르게 공부한 후, 합격했다&mldr;</p>
<p>인터넷에 보면 시험 (합격)후기 글이 많다. 시험 팁과 관련된 내용이 주로 있고 나도 그런 글 도움을 많이 받았다. 하지만 나는 조금 다른 이야길 해보려 한다.</p>
<p>우선 강의와 더불어 시험을 보는 과정에서 배우는 것들이 좋았다. 어찌보면 난 컨테이너(도커)는 아주 깔짝, 리눅스도 깔짝 알고 있는 수준이었다는게 드러났다. 예컨데 나는 리눅스 네트워크는 꽤 잘 안다고 착각했다. 이유는 (지금 생각하면 조금 어이 없지만) on-premise 호스트에서 DHCP를 쓰지 않고 정적으로 IP를 할당했기 때문에 그렇다고 생각했다. 하지만 강의에서 컨테이너와 쿠버네티스의 가상 네트워크 구성을 듣고 난 리눅스 네트워크에 대해 거의 아는게 없다고 느껴졌다. 네트워크 2-3 계층을 구현하는 리눅스 명령과 프로그램이 있다는 걸 처음 알았다(몇몇은 알고 있었지만 그런 용도인줄 몰랐다. 이 내용은 꼭 실습하고 정리하려 한다).</p>
<p>네트워크 뿐만 아니라, 컨테이너 오케스트레이터로써 쿠버네티스는, 리눅스 커널과 컨테이너 관련 기술을 알아야 한다. 그리고 강의와 문제에서 이 기술들을 관통한다. 그래서 시험을 준비하며 알게 된 컨테이너, 리눅스 관련 내용을 정리하는 것으로 후기를 대체(?)하려 한다. 아, openssl을 사용해 self-signed certification은, 우연히, 시험 직전에 실습해봤는데 큰 도움이 됐다.</p>
<p>그 중 하나가 K8s의 <a href=https://kubernetes.io/docs/tasks/configure-pod-container/security-context/>Security Context</a> 관련한 리눅스 네임스페이스와 capabilites 관한 내용이다.</p>
<p><a href=https://github.com/flavono123/docker-the-hard-way>실습 환경</a>을 올려놨다.</p>
<h2 id=리눅스-네임스페이스>리눅스 네임스페이스</h2>
<p>강의에선 K8s Security Context를 이해하기 위해 도커의것부터 설명한다. 도커 즉, 컨테이너는 호스트와 커널을 공유하면서도 분리된 환경에서 실행된다. 네임스페이스를 통해 분리한다. <a href=https://man7.org/linux/man-pages/man7/namespaces.7.html>man 페이지</a>도 있으나, <a href=https://www.44bits.io/ko/keyword/linux-namespace>이 글</a>과 같이 보면 더 이해가 잘 된다.</p>
<p>실제로 출력해보면 다음과 같다:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ sudo ls -l /proc/1/ns | awk <span style=color:#e6db74>&#39;{print $11}&#39;</span>

cgroup:<span style=color:#f92672>[</span>4026531835<span style=color:#f92672>]</span>
ipc:<span style=color:#f92672>[</span>4026531839<span style=color:#f92672>]</span>
mnt:<span style=color:#f92672>[</span>4026531840<span style=color:#f92672>]</span>
net:<span style=color:#f92672>[</span>4026531992<span style=color:#f92672>]</span>
pid:<span style=color:#f92672>[</span>4026531836<span style=color:#f92672>]</span>
pid:<span style=color:#f92672>[</span>4026531836<span style=color:#f92672>]</span>
user:<span style=color:#f92672>[</span>4026531837<span style=color:#f92672>]</span>
uts:<span style=color:#f92672>[</span>4026531838<span style=color:#f92672>]</span>
</code></pre></div><p>컨테이너를 하나 실행해서 비교해보자:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ docker run -d busybox sleep <span style=color:#ae81ff>3000</span>
$ docker exec &lt;container_id&gt; ls -l /proc/1/ns | awk <span style=color:#e6db74>&#39;{print $11}&#39;</span>

cgroup:<span style=color:#f92672>[</span>4026531835<span style=color:#f92672>]</span>
ipc:<span style=color:#f92672>[</span>4026532184<span style=color:#f92672>]</span>
mnt:<span style=color:#f92672>[</span>4026532182<span style=color:#f92672>]</span>
net:<span style=color:#f92672>[</span>4026532187<span style=color:#f92672>]</span>
pid:<span style=color:#f92672>[</span>4026532185<span style=color:#f92672>]</span>
pid:<span style=color:#f92672>[</span>4026532185<span style=color:#f92672>]</span>
user:<span style=color:#f92672>[</span>4026531837<span style=color:#f92672>]</span>
uts:<span style=color:#f92672>[</span>4026532183<span style=color:#f92672>]</span>

$ comm &lt;<span style=color:#f92672>(</span>docker exec dbadb729e1d4 ls -l /proc/1/ns | awk <span style=color:#e6db74>&#39;{print $11}&#39;</span> | sort<span style=color:#f92672>)</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>&gt; &lt;<span style=color:#f92672>(</span>sudo ls -l /proc/1/ns | awk <span style=color:#e6db74>&#39;{print $11}&#39;</span> | sort<span style=color:#f92672>)</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>&gt; --output-delimiter<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;                    &#39;</span>
                                        
                                        cgroup:<span style=color:#f92672>[</span>4026531835<span style=color:#f92672>]</span>
                    ipc:<span style=color:#f92672>[</span>4026531839<span style=color:#f92672>]</span>
ipc:<span style=color:#f92672>[</span>4026532184<span style=color:#f92672>]</span>
                    mnt:<span style=color:#f92672>[</span>4026531840<span style=color:#f92672>]</span>
mnt:<span style=color:#f92672>[</span>4026532182<span style=color:#f92672>]</span>
                    net:<span style=color:#f92672>[</span>4026531992<span style=color:#f92672>]</span>
net:<span style=color:#f92672>[</span>4026532187<span style=color:#f92672>]</span>
                    pid:<span style=color:#f92672>[</span>4026531836<span style=color:#f92672>]</span>
                    pid:<span style=color:#f92672>[</span>4026531836<span style=color:#f92672>]</span>
pid:<span style=color:#f92672>[</span>4026532185<span style=color:#f92672>]</span>
pid:<span style=color:#f92672>[</span>4026532185<span style=color:#f92672>]</span>
                                        user:<span style=color:#f92672>[</span>4026531837<span style=color:#f92672>]</span>
                    uts:<span style=color:#f92672>[</span>4026531838<span style=color:#f92672>]</span>
uts:<span style=color:#f92672>[</span>4026532183<span style=color:#f92672>]</span>

<span style=color:#75715e># diff</span>
$ comm &lt;<span style=color:#f92672>(</span>docker exec dbadb729e1d4 ls -l /proc/1/ns | awk <span style=color:#e6db74>&#39;{print $11}&#39;</span> | sort<span style=color:#f92672>)</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>&gt; &lt;<span style=color:#f92672>(</span>sudo ls -l /proc/1/ns | awk <span style=color:#e6db74>&#39;{print $11}&#39;</span> | sort<span style=color:#f92672>)</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>&gt; --output-delimiter<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;                    &#39;</span> -12

cgroup:<span style=color:#f92672>[</span>4026531835<span style=color:#f92672>]</span>
user:<span style=color:#f92672>[</span>4026531837<span style=color:#f92672>]</span>

<span style=color:#75715e># 컨테이너 것</span>
$ comm &lt;<span style=color:#f92672>(</span>docker exec dbadb729e1d4 ls -l /proc/1/ns | awk <span style=color:#e6db74>&#39;{print $11}&#39;</span> | sort<span style=color:#f92672>)</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>&gt; &lt;<span style=color:#f92672>(</span>sudo ls -l /proc/1/ns | awk <span style=color:#e6db74>&#39;{print $11}&#39;</span> | sort<span style=color:#f92672>)</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>&gt; --output-delimiter<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;                    &#39;</span> -23
ipc:<span style=color:#f92672>[</span>4026532184<span style=color:#f92672>]</span>
mnt:<span style=color:#f92672>[</span>4026532182<span style=color:#f92672>]</span>
net:<span style=color:#f92672>[</span>4026532187<span style=color:#f92672>]</span>
pid:<span style=color:#f92672>[</span>4026532185<span style=color:#f92672>]</span>
pid:<span style=color:#f92672>[</span>4026532185<span style=color:#f92672>]</span>
uts:<span style=color:#f92672>[</span>4026532183<span style=color:#f92672>]</span>

<span style=color:#75715e># 호스트 것</span>
$ comm &lt;<span style=color:#f92672>(</span>docker exec dbadb729e1d4 ls -l /proc/1/ns | awk <span style=color:#e6db74>&#39;{print $11}&#39;</span> | sort<span style=color:#f92672>)</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>&gt; &lt;<span style=color:#f92672>(</span>sudo ls -l /proc/1/ns | awk <span style=color:#e6db74>&#39;{print $11}&#39;</span> | sort<span style=color:#f92672>)</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>&gt; --output-delimiter<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;                    &#39;</span> -13
ipc:<span style=color:#f92672>[</span>4026531839<span style=color:#f92672>]</span>
mnt:<span style=color:#f92672>[</span>4026531840<span style=color:#f92672>]</span>
net:<span style=color:#f92672>[</span>4026531992<span style=color:#f92672>]</span>
pid:<span style=color:#f92672>[</span>4026531836<span style=color:#f92672>]</span>
pid:<span style=color:#f92672>[</span>4026531836<span style=color:#f92672>]</span>
uts:<span style=color:#f92672>[</span>4026531838<span style=color:#f92672>]</span>
</code></pre></div><p>컨테이너와 호스트는 cgroup과 user를 제외한 네임스페이스가 다르다. pid가 다른 것은, 컨테이너가 실행하는 프로세스가 컨테이너 내부에서 바라 볼 때 1인 것과 호스트에서 볼 때 다른 것으로 쉽게 이해할 수 있다:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ docker exec dbadb729e1d4 ps aux | grep <span style=color:#f92672>[</span>s<span style=color:#f92672>]</span>leep
    <span style=color:#ae81ff>1</span> root      0:00 sleep <span style=color:#ae81ff>3000</span>
$ ps aux | grep <span style=color:#f92672>[</span>s<span style=color:#f92672>]</span>leep
root        <span style=color:#ae81ff>6162</span>  0.0  0.0   <span style=color:#ae81ff>1308</span>     <span style=color:#ae81ff>4</span> ?        Ss   09:57   0:00 sleep <span style=color:#ae81ff>3000</span>
</code></pre></div><p>네트워크 스택을 분리하는 net과 uts 네임스페이스 역시 그러하다(나중에 컨테이너와 쿠버네티스 네트워크를 공부할 때 다시 볼 것).</p>
<p><a href=https://docs.docker.com/engine/security/#control-groups>cgroup</a> 호스트의 리소스를 컨테이너에게 안전하게 할당하는 리눅스 컨테이너 컴포넌트이다. 호스트의 전체 리소스를 공유하며 관리 받기 위해 컨테이너도 같은 네임스페이스일 수 밖에 없을거 같다. user 역시 같다. 컨테이너는 호스트의 사용자의 권한으로 프로세스를 실행시키는 꼴이다. 기본은 root 이고 UID 인자를 주어 변경할 수 있다(<code>--user</code>). UID 1000인 vagrant 사용자로 실행해도 네임스페이스 분리된 모습은 같다:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ docker run -d --user <span style=color:#ae81ff>1000</span> busybox sleep <span style=color:#ae81ff>3000</span>

<span style=color:#75715e># diff 만 비교</span>
$ diff -urN &lt;<span style=color:#f92672>(</span>docker exec ad7a0ba892ae ls -l /proc/1/ns | awk <span style=color:#e6db74>&#39;{print $11}&#39;</span> | sort<span style=color:#f92672>)</span> <span style=color:#ae81ff>\
</span><span style=color:#ae81ff></span>&gt; &lt;<span style=color:#f92672>(</span>sudo ls -l /proc/1/ns | awk <span style=color:#e6db74>&#39;{print $11}&#39;</span> | sort<span style=color:#f92672>)</span>
--- /dev/fd/63	2022-02-25 10:25:49.879155366 +0000
+++ /dev/fd/62	2022-02-25 10:25:49.879155366 +0000
@@ -1,9 +1,9 @@
 
 cgroup:<span style=color:#f92672>[</span>4026531835<span style=color:#f92672>]</span>
-ipc:<span style=color:#f92672>[</span>4026532248<span style=color:#f92672>]</span>
-mnt:<span style=color:#f92672>[</span>4026532246<span style=color:#f92672>]</span>
-net:<span style=color:#f92672>[</span>4026532251<span style=color:#f92672>]</span>
-pid:<span style=color:#f92672>[</span>4026532249<span style=color:#f92672>]</span>
-pid:<span style=color:#f92672>[</span>4026532249<span style=color:#f92672>]</span>
+ipc:<span style=color:#f92672>[</span>4026531839<span style=color:#f92672>]</span>
+mnt:<span style=color:#f92672>[</span>4026531840<span style=color:#f92672>]</span>
+net:<span style=color:#f92672>[</span>4026531992<span style=color:#f92672>]</span>
+pid:<span style=color:#f92672>[</span>4026531836<span style=color:#f92672>]</span>
+pid:<span style=color:#f92672>[</span>4026531836<span style=color:#f92672>]</span>
 user:<span style=color:#f92672>[</span>4026531837<span style=color:#f92672>]</span>
-uts:<span style=color:#f92672>[</span>4026532247<span style=color:#f92672>]</span>
+uts:<span style=color:#f92672>[</span>4026531838<span style=color:#f92672>]</span>
</code></pre></div><h2 id=capabilities>Capabilities</h2>
<p>컨테이너는 실행될 때의 호스트 사용자 권한(previlege, capability)을 그대로 받기도 하지만, 특정 권한을 추가하거나 없애서 제어할 수도 있다. 이건 실제로 프로세스 실행 시 동작과 같고, 호스트는 컨테이너를 프로세스로 바라보기에 가능한것 같다.</p>
<p>이 때 권한들에 해당하는게 capabliities이다. 역시 <a href=https://man7.org/linux/man-pages/man7/capabilities.7.html>man 페이지</a>가 있다.</p>
<p><code>CAP_</code> 으로 시작하는것들이 프로세스가 할 수 있는 리눅스 동작에 대한 권한이다. <a href=https://github.com/torvalds/linux/blob/master/include/uapi/linux/capability.h>커널 코드에 매크로로 정의</a>되어 있다. 민망해서 주절주절 늘어 놓는데, 리눅스를 쓰며 처음 본 내용이다&mldr;</p>
<p>다음 글로 설명을 대체하며 쓸 일이 있을까도 싶다(물론 웹 서버를 root 권한으로 실행하고 있지 않다! 실무에선 웹 서버 외에 DB 같은 프로세스를 root로 실행해야 하는지 또는 별도의 리눅스 사용자로 실행해야 하는지 아는게 더 중요한거 같다)(<a href=https://docs.docker.com/engine/security/#linux-kernel-capabilities>출처</a>):</p>
<blockquote>
<p>Capabilities turn the binary “root/non-root” dichotomy into a fine-grained access control system. Processes (like web servers) that just need to bind on a port below 1024 do not need to run as root: they can just be granted the net_bind_service capability instead. And there are many other capabilities, for almost all the specific areas where root privileges are usually needed.</p>
</blockquote>
<p>프로세스의 capablities는 proc 파일 시스템 status에 인코딩 되어 있다. 각 인코딩 값에 대한 설명은 <a href=https://book.hacktricks.xyz/linux-unix/privilege-escalation/linux-capabilities>링크</a>로 대체한다:</p>
<ul>
<li>CapInh(Inherited from the parent processes)</li>
<li>CapPrm(Permitted to the threads)</li>
<li>CapEff(Effective)</li>
<li>CapBnd(Bounding)</li>
<li>CapAmb(Ambient)</li>
</ul>
<p><code>capsh</code> 명령을 통해 디코딩하면 값을 쉽게 확인할 수 있다. root와 vagrant 사용자로 실행한 컨테이너의 프로세스를 비교하면 capabilities 차이를 확인할 수 있다:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#75715e># root</span>
$ docker exec 2561c489efdc cat /proc/1/status | grep -i cap | awk <span style=color:#e6db74>&#39;{print $2}&#39;</span> | xargs -I<span style=color:#f92672>{}</span> capsh --decode<span style=color:#f92672>={}</span>
0x00000000a80425fb<span style=color:#f92672>=</span>cap_chown,cap_dac_override,cap_fowner,cap_fsetid,cap_kill,cap_setgid,cap_setuid,cap_setpcap,cap_net_bind_service,cap_net_raw,cap_sys_chroot,cap_mknod,cap_audit_write,cap_setfcap
0x00000000a80425fb<span style=color:#f92672>=</span>cap_chown,cap_dac_override,cap_fowner,cap_fsetid,cap_kill,cap_setgid,cap_setuid,cap_setpcap,cap_net_bind_service,cap_net_raw,cap_sys_chroot,cap_mknod,cap_audit_write,cap_setfcap
0x00000000a80425fb<span style=color:#f92672>=</span>cap_chown,cap_dac_override,cap_fowner,cap_fsetid,cap_kill,cap_setgid,cap_setuid,cap_setpcap,cap_net_bind_service,cap_net_raw,cap_sys_chroot,cap_mknod,cap_audit_write,cap_setfcap
0x00000000a80425fb<span style=color:#f92672>=</span>cap_chown,cap_dac_override,cap_fowner,cap_fsetid,cap_kill,cap_setgid,cap_setuid,cap_setpcap,cap_net_bind_service,cap_net_raw,cap_sys_chroot,cap_mknod,cap_audit_write,cap_setfcap
0x0000000000000000<span style=color:#f92672>=</span>

<span style=color:#75715e># vagrant</span>
$ docker exec b01846125ba6 cat /proc/1/status | grep -i cap | awk <span style=color:#e6db74>&#39;{print $2}&#39;</span> | xargs -I<span style=color:#f92672>{}</span> capsh --decode<span style=color:#f92672>={}</span>
0x00000000a80425fb<span style=color:#f92672>=</span>cap_chown,cap_dac_override,cap_fowner,cap_fsetid,cap_kill,cap_setgid,cap_setuid,cap_setpcap,cap_net_bind_service,cap_net_raw,cap_sys_chroot,cap_mknod,cap_audit_write,cap_setfcap
0x0000000000000000<span style=color:#f92672>=</span>
0x0000000000000000<span style=color:#f92672>=</span>
0x00000000a80425fb<span style=color:#f92672>=</span>cap_chown,cap_dac_override,cap_fowner,cap_fsetid,cap_kill,cap_setgid,cap_setuid,cap_setpcap,cap_net_bind_service,cap_net_raw,cap_sys_chroot,cap_mknod,cap_audit_write,cap_setfcap
0x0000000000000000<span style=color:#f92672>=</span>
</code></pre></div><p>root로 실행한 컨테이너는 CapAmb를 제외한 모든 권한이 꽉꽉 차 있지만, vagrant로 실행한 것은 CapPrm, CapBnd이 비어 있다. <a href=https://docs.docker.com/engine/reference/run/#runtime-privilege-and-linux-capabilities><code>--cap-drop</code> 옵션을 주어 컨테이너를 실행하면 특정 권한을 제거할 수 있다</a>:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>$ docker run -d --user <span style=color:#ae81ff>1000</span> --cap-drop cap_chown busybox sleep <span style=color:#ae81ff>2000</span>
f0b5e2569f6b2d4ec3283ef0f7761e82584c9caa879d5fd9c7573f0efc5435d6
$ docker exec f0b5e2569f6b cat /proc/1/status | grep -i cap | awk <span style=color:#e6db74>&#39;{print $2}&#39;</span> | xargs -I<span style=color:#f92672>{}</span> capsh --decode<span style=color:#f92672>={}</span>
0x00000000a80425fa<span style=color:#f92672>=</span>cap_dac_override,cap_fowner,cap_fsetid,cap_kill,cap_setgid,cap_setuid,cap_setpcap,cap_net_bind_service,cap_net_raw,cap_sys_chroot,cap_mknod,cap_audit_write,cap_setfcap
0x0000000000000000<span style=color:#f92672>=</span>
0x0000000000000000<span style=color:#f92672>=</span>
0x00000000a80425fa<span style=color:#f92672>=</span>cap_dac_override,cap_fowner,cap_fsetid,cap_kill,cap_setgid,cap_setuid,cap_setpcap,cap_net_bind_service,cap_net_raw,cap_sys_chroot,cap_mknod,cap_audit_write,cap_setfcap
0x0000000000000000<span style=color:#f92672>=</span>

</code></pre></div><p>반대로 <code>--cap-add</code>로는 특정 권한을 추가할 수 있다.</p>
<h2 id=security-context>Security Context</h2>
<p>위 내용을 이해하면 K8s에서 파드의 리눅스 사용자와 컨테이너의 권한을 설정은 쉽게 이해할 수 있다.</p>
<p>사용자는 파드 단위(<a href=https://kubernetes.io/docs/tasks/configure-pod-container/security-context/#set-the-security-context-for-a-pod><code>spec.securityContext.runAsUser</code></a>) 또는 컨테이너 단위(<a href=https://kubernetes.io/docs/tasks/configure-pod-container/security-context/#set-the-security-context-for-a-container><code>spec.containers[].securityContext.runAsUser</code></a>)로 설정할 수 있다.</p>
<p>Capabilities는 컨테이너 단위로만 설정할 수 있다(<a href=https://kubernetes.io/docs/tasks/configure-pod-container/security-context/#set-capabilities-for-a-container><code>spec.containers[].securityContext.capablities</code></a>)</p>
<p>명령 실행은 도커 것과 결과가 거의 비슷해 생략한다.</p>
<hr>
<h2 id=참고>참고</h2>
<ul>
<li><a href=https://docs.docker.com/engine/security/#linux-kernel-capabilities>https://docs.docker.com/engine/security/#linux-kernel-capabilities</a></li>
<li><a href=https://tech.ssut.me/what-even-is-a-container/>https://tech.ssut.me/what-even-is-a-container/</a></li>
<li><a href=https://www.44bits.io/ko/keyword/linux-namespace>https://www.44bits.io/ko/keyword/linux-namespace</a></li>
<li><a href=https://book.hacktricks.xyz/linux-unix/privilege-escalation/linux-capabilities>https://book.hacktricks.xyz/linux-unix/privilege-escalation/linux-capabilities</a></li>
<li><a href=https://man7.org/linux/man-pages/man1/capsh.1.html>https://man7.org/linux/man-pages/man1/capsh.1.html</a></li>
<li><a href=https://kubernetes.io/docs/tasks/configure-pod-container/security-context/>https://kubernetes.io/docs/tasks/configure-pod-container/security-context/</a></li>
<li><a href=https://www.udemy.com/course/certified-kubernetes-administrator-with-practice-tests/>https://www.udemy.com/course/certified-kubernetes-administrator-with-practice-tests/</a></li>
</ul>
</div>
</section>
<div id=disqus_thread></div>
<script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return}var b=document,a=b.createElement('script');a.async=!0,a.src='//flavono123.disqus.com/embed.js',a.setAttribute('data-timestamp',+new Date),(b.head||b.body).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
<a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a>
<footer>
<p>&copy; 2021 - 2023 </p>
</footer>
</main>
</body>
</html>