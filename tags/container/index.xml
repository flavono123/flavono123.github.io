<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>container on flavono123</title><link>https://flavono123.github.io/tags/container/</link><description>Recent content in container on flavono123</description><generator>Hugo -- gohugo.io</generator><language>ko-kr</language><lastBuildDate>Wed, 10 Aug 2022 10:18:02 +0900</lastBuildDate><atom:link href="https://flavono123.github.io/tags/container/index.xml" rel="self" type="application/rss+xml"/><item><title>컨테이너 런타임 CRI-O 사용 시 오류 해결: ping: permission denied (are you root?)</title><link>https://flavono123.github.io/posts/crio-capabilities-bug/</link><pubDate>Wed, 10 Aug 2022 10:18:02 +0900</pubDate><guid>https://flavono123.github.io/posts/crio-capabilities-bug/</guid><description>문제 쿠버네티스 컨테이너 런타임으로 containerd 대신 CRI-O를 검토하던 중 ping 테스트에서 다음 오류가 발생했다:
/ # ping 172.16.40.67 PING 172.16.40.67 (172.16.40.67): 56 data bytes ping: permission denied (are you root?) CNI는 Calico를 사용했고, ping 테스트는 Calico 문서 것 그대로 했다(IP는 다른 워커 노드의 파드의 것이다).
해결 처음 보는 오류 메시지를 검색하니 CRI-O는 CAP_NET_RAW라는 ping에 필요한 capability가 기본으로 없다는 것을 알게 됐다:
default_capabilities $ crio config | grep default_capabilities -A 10 INFO[2022-08-10 06:14:49.</description></item></channel></rss>